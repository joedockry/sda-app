<!DOCTYPE html>
<html>
    <head>
		<title>SEAN DOCKRY & ASSOCIATES</title>
		<meta name="viewport" content="width=device-width,initial-scale=1.0">
		<link rel="apple-touch-icon" sizes="180x180" href="../images/apple-touch-icon.png">
		<link rel="icon" type="image/png" href="../images/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="../images/favicon-16x16.png" sizes="16x16">
        <link rel="stylesheet" href="../style.css">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script>
		</script>
    </head>
    <body>
        <header id="navigation-bar">
			<nav>
				<a href="../index.php"><logo></logo></a>
				<div class="logo-fixed">Sea&#769;n Dockry and Associates</div>
				<div class="tabs">
					<ul class="tabs-list">
					  	<li id="home" class="tab selected-tab"><a class="tab-link" href="../index.php">Home</a></li><!--
				   		--><li id="services" class="tab"><a class="tab-link" href="../services.html">Services</a></li><!--
				   		--><li id="about" class="tab"><a class="tab-link" href="../about.html">About</a></li><!--
				   		--><li id="contact" class="tab"><a class="tab-link" href="../contact.html">Contact</a></li>
					  	<hr />
					</ul>
				</div>
				<burger>
					<input type="checkbox" />
					<span></span>
					<span></span>
					<span></span>
					<ul class="burger-menu">
						<li id="burger-home" class="burger-tab burger-selected-item"><a class="burger-tab-link" href="../index.php">Home</a></li>
						<li id="burger-services" class="burger-tab"><a class="burger-tab-link" href="../services.html">Services</a></li>
						<li id="burger-about" class="burger-tab"><a class="burger-tab-link" href="../about.html">About</a></li>
						<li id="burger-contact" class="burger-tab"><a class="burger-tab-link" href="../contact.html">Contact</a></li>
						<div id="burger-select"></div>
					</ul>
				</burger>
			</nav>
		</header>
        <div class="container">
			<div class="page-title">
			</div>
			<div class="grid">
				<div class="row"> 
					<div class="column">
						<!--<div class="grid-item">
							<img src="./interior-design/all/cover.jpg" onclick="viewImage(this)">
						</div>-->
					</div>
					<div class="column">
					</div>
					<div class="column">
					</div>
                </div>
            </div>
        </div>
        <div class="project-controller-sk">
				<a href="../alterations-extensions-dwellings/category.html">
					<div class="controller-previous project-control">
						<center>
							<div class="hi-icon hi-icon-sk hi-icon-archive" style="margin-right:50%;">
								<div class="icon-img"></div>
								<div class="controller-label-left">Previous Category</div>
							</div>
						</center>
					</div>
				</a>
				<a href="../index.php">
					<div class="controller-home project-control">
						<center>
							<div class="controller-home-label">
								Home
							</div>
							<div class="hi-icon hi-icon-sk hi-icon-archive">
								<!--<div class="icon-grid"></div>-->
							</div>
						</center>
						<!--<center><div class="controller-label">Projects</div></center>-->
					</div>
				</a>
				<a href="../alterations-extensions-dwellings/category.html">
					<div class="controller-next project-control">
						<center>
							<div class="hi-icon hi-icon-sk hi-icon-archive" style="margin-right:-50%;">
								<div class="icon-img rotate-180"></div>
								<div class="controller-label-right">Next Category</div>
							</div>
						</center>
					</div>
				</a>
			</div>
        <footer>
			<div class="footer-title">
				Sea&#769;n Dockry and Associates
			</div>
			<div class="footer-social">
				<i class="fab fa-facebook-f social-media" style="font-size:50px" onClick="window.open('https://www.facebook.com/pages/category/Professional-Service/Sean-Dockry-Associates-198935273504277/');"></i>
				<i class="fab fa-houzz social-media" style="font-size:50px" onClick="window.open('https://www.houzz.ie/pro/sdaarch/sean-dockry-associates');"></i>
				<i class="fab fa-pinterest social-media" style="font-size:50px" onClick="window.open('https://www.pinterest.ie/dockry/');"></i>
			</div>
			<div class="footer-bottom">
				<div class="footer-info">
                    <div class="icon">
                        <center>
                            <i class="fa fa-map-marker" style="font-size:24px"></i>
                        </center>
                    </div>
                    <div>Second Floor, Corbett House, Shoemaker Lane, Edward Square, Galway</div>
                </div>
                <div class="footer-info">
                    <div class="icon">
                        <center>
                            <i class="fa fa-phone" style="font-size:24px"></i>
                        </center>
                    </div>
                    <div>+353 (0)91 568522</div>
                </div>
                <div class="footer-info">
                    <div class="icon">
                        <center>
                            <i class="fa fa-envelope" style="font-size:24px"></i>
                        </center>
                    </div>
                    <div>mail@sdaarchitects.ie</div>
                </div>
			</div>
		</footer>

		<!-- The Modal -->
		<div id="modal-image" class="modal" onclick="closeImageModal()">
			<!-- The Close Button -->
			<span class="close">&times;</span>

			<!-- Modal Content (The Image) -->
			<div class="modal-container">
				<img class="modal-content" id="img01" src="">
			</div>

			<!-- Modal Caption (Image Text) -->
			<div id="caption"></div>

			<div class="controls" onclick="event.stopPropagation()">
				<ul class="ch-grid">
					<li class="left-control">
						<div class="ch-item ch-img-1" onclick="previousImage();">
							<div class="ch-info">
								<h3>Previous</h3>
								<!--<p>[Project Name]</p>-->
							</div>
						</div>
					</li>
				</ul>
				<ul class="ch-grid" style="right:0">
					<li class="right-control">
						<div class="ch-item ch-img-2" onclick="nextImage();">
							<div class="ch-info">
								<h3>Next</h3>
								<!--<p>[Project Name]</p>-->
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</body>
	</html>
	<script>

        var category = getUrlParameter("category");

		/*
		Sticky Header Controller
		*/

		var header = document.getElementById("navigation-bar");
		var sticky = header.offsetTop + 40;
		var touch = header.offsetTop + 15;

		//$(document.body).on('touchmove', onTouch);
		//$(window).scroll(onScroll);
		header.classList.add("nav-fixed"); 

		function onScroll(){ 
			if (window.pageYOffset >= sticky) {
				header.classList.add("nav-fixed");
			} else {
				header.classList.remove("nav-fixed");
			}
		}

		function onTouch(){ 
			if (window.pageYOffset >= touch) {
				header.classList.add("nav-fixed");
			} else {
				header.classList.remove("nav-fixed");
			}
		}



        /*
        Get Parameters
        */
        function getUrlParameter(sParam) {
            var sPageURL = decodeURIComponent(window.location.search.substring(1)),
                sURLVariables = sPageURL.split('&'),
                sParameterName,
                i;

            for (i = 0; i < sURLVariables.length; i++) {
                sParameterName = sURLVariables[i].split('=');

                if (sParameterName[0] === sParam) {
                    return sParameterName[1] === undefined ? true : sParameterName[1];
                }
            }
        };



        /*
        Fill Projects
        */
        getData();
		var projs = 0;

        function getData() {
            var columns = $(".column");
            var c = 0;

			$.getJSON(category + '/category-all.json', function(data) {
				console.log(category);
                var cat = data.category;
				$.each(data.project, function(i, p) {
					$.each(p.images, function(j, q) {
						createProject(columns[c], p.id, p.title, q.url, cat, projs);
						c = (c + 1) % 3;
						projs = projs + 1;
					});
     			});
			});

			$.getJSON('info.json', function(data) {
				var maxCategories = data.num;
                $.each(data.category, function(i, p) {
					if(p.id == category) {
						var title = "<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" + p.title + " - All <hr></div>";
                        $(title).appendTo(".page-title");
						$.getJSON('info.json', function(data) {
							$.each(data.category, function(i, m) {
								var prev = parseInt(p.idNum) - 1;
								if(prev < 0) prev = parseInt(maxCategories) - 1;
								var next = parseInt(p.idNum) + 1;
								if(next == parseInt(maxCategories)) next = 0;
								if(m.idNum == prev) {
									$(".controller-previous").parents().first().attr("href", "../projects/all.html?category=" + m.id);
									$(".controller-previous > center > .controller-label").text(m.title);
								}
								else if(m.idNum == next) {
									$(".controller-next").parents().first().attr("href", "../projects/all.html?category=" + m.id);
									$(".controller-next > center > .controller-label").text(m.title);
								}
							});
						});
					}
				});
			});
		};

		function createProject(column, id, title, url, cat, projNum) {
			var project = "<div class=\"grid-item\">" +
							"<img src=\"" + cat + "/" + id + "/" + url + "\" onclick=\"viewImage(this)\" id=\"" + projNum + "image\">" +
						  "</div>";

			$(project).appendTo(column);
		}



		/*
		Project Controller Buttons
		*/
		$(document).on({
			mouseenter: function() {
				$(this).addClass('hi-icon-active');
			},
			mouseleave: function() {
				$('.hi-icon').removeClass('hi-icon-active');
			}
		}, ".hi-icon");


		/*
		Image Modal
		*/
		var currentImage;

		function viewImage(img){
			$("#modal-image").css("display", "block");
			$("#img01").attr("src", $(img).attr('src'));
			$("#caption").html($(img).attr('alt'));
			
			var imageId = $(img).attr('id')
			currentImage = parseInt(imageId);
		}

		// When the user clicks on <span> (x), close the modal
		function closeImageModal() { 
			$('#modal-image').css("display", "none");
		}

		function previousImage() {
			var id = currentImage - 1;
			if(id == -1) id = projs - 1;
			$("#img01").attr("src", $('#' + id + 'image').attr('src'));
			currentImage = id;
		}

		function nextImage() {
			var id = currentImage + 1;
			if(id == projs) id = 0;
			$("#img01").attr("src", $('#' + id + 'image').attr('src'));
			currentImage = id;
		}
	</script>
</html>